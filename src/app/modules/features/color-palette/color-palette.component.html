<div class="flex h-full flex-col items-start justify-start gap-2">
  <span class="capitalize">{{ name }}</span>
  <div class="flex h-full flex-wrap items-center justify-start">
    @if (!expanded()) {
      <app-color-brick [color]="palette()[500]" (colorChange)="updatePalette($event)"></app-color-brick>
      <div
        (mouseenter)="toggleShowLabel(true)"
        (mouseleave)="toggleShowLabel(false)"
        class="relative ml-2 flex h-full min-h-8 w-28 items-center justify-start">
        <span
          (click)="setExpanded(true)"
          class="cursor-pointer whitespace-nowrap text-xs transition-opacity duration-300"
          [ngClass]="{ 'opacity-0': !showLabel() }"
          matTooltip="Expand to specify each palette color">
          Expand palette
        </span>
        <mat-icon
          (click)="setExpanded(true)"
          class="absolute left-0 z-0 cursor-pointer transition-transform duration-300"
          [ngClass]="{ 'translate-x-20': showLabel() }"
          >chevron_right</mat-icon
        >
      </div>
    } @else {
      <div
        class="text-sm text-black/60"
        matTooltip="I let the palette feature but the default 100 is used to initialize $lighter and 700 for $darker when
      creating the theme but I haven't found any use in Angular Material components. My guess is ">
        It seems that the only hue used in Angular Material by default is 500
        <mat-icon class="text-black/60">help_outline</mat-icon>
      </div>
      @for (color of paletteColors() | keyvalue; track color.key) {
        <div class="flex flex-col items-center justify-center gap-2">
          <app-color-brick [color]="color.value" (colorChange)="updateColor($event, color.key)">
            <span class="text-sm">{{ color.key }}</span>
          </app-color-brick>
        </div>
      }
      <div
        (mouseenter)="toggleShowLabel(true)"
        (mouseleave)="toggleShowLabel(false)"
        class="relative ml-2 flex h-full min-h-8 w-28 items-center justify-start">
        <span
          (click)="setExpanded(false)"
          class="cursor-pointer whitespace-nowrap text-xs transition-opacity duration-300"
          [ngClass]="{ 'opacity-0': !showLabel() }"
          matTooltip="Reduce to create a palette from your color automatically">
          Reduce palette
        </span>
        <mat-icon
          (click)="setExpanded(false)"
          class="absolute left-0 z-0 cursor-pointer transition-transform duration-300"
          [ngClass]="{ 'translate-x-20': showLabel() }">
          chevron_left
        </mat-icon>
      </div>
    }
  </div>
</div>
